{"version":3,"sources":["webpack:///./src/views/resource/index.vue?16de","webpack:///./src/views/resource/components/List.vue?2a4a","webpack:///./src/views/resource/components/List.vue","webpack:///./src/views/resource/components/List.vue?7223","webpack:///./src/views/resource/components/List.vue?9a14","webpack:///./src/views/resource/index.vue","webpack:///./src/views/resource/index.vue?cd34","webpack:///./src/views/resource/index.vue?e33c","webpack:///./src/services/resource.ts","webpack:///./src/services/resource-category.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","attrs","slot","ref","form","model","value","callback","$$v","$set","expression","_l","item","key","id","name","isLoading","on","onSubmit","_v","onReset","handleAdd","$event","$router","push","directives","rawName","staticStyle","resources","scopedSlots","_u","fn","scope","_s","_f","row","createdTime","handleEdit","handleDelete","current","size","totalCount","handleSizeChange","handleCurrentChange","dialogTitle","dialogVisible","resourceform","rules","saveCreateOrUpdateResource","extend","data","url","categoryId","resourceCategories","required","message","trigger","description","created","loadResources","loadResourceCategories","methods","records","total","console","log","JSON","parse","stringify","val","$refs","resetFields","validate","valid","code","$message","type","component","components","ResourceList","getResourcePages","method","getAllResources","allocateRoleResources","getRoleResources","roleId","params","saveOrUpdateResources","getResourceCategories","saveOrderUpdateCategories"],"mappings":"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","file":"js/resource.e22356ef.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resource\"},[_c('resource-list')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resource-list\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-form',{ref:\"form\",attrs:{\"inline\":true,\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"prop\":\"name\",\"label\":\"资源名称\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"url\",\"label\":\"资源路径\"}},[_c('el-input',{model:{value:(_vm.form.url),callback:function ($$v) {_vm.$set(_vm.form, \"url\", $$v)},expression:\"form.url\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"categoryId\",\"label\":\"资源分类\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择资源分类\",\"clearable\":\"\"},model:{value:(_vm.form.categoryId),callback:function ($$v) {_vm.$set(_vm.form, \"categoryId\", $$v)},expression:\"form.categoryId\"}},_vm._l((_vm.resourceCategories),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.isLoading},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询搜索\")]),_c('el-button',{attrs:{\"disabled\":_vm.isLoading},on:{\"click\":_vm.onReset}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-button',{on:{\"click\":_vm.handleAdd}},[_vm._v(\"添加资源\")]),_c('el-button',{on:{\"click\":function($event){return _vm.$router.push({\n              name: 'resourceCategory',\n            })}}},[_vm._v(\"资源分类\")]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.resources}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"编号\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"资源名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"url\",\"label\":\"资源路径\"}}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"width\":\"180\",\"label\":\"描述\"}}),_c('el-table-column',{attrs:{\"prop\":\"createdTime\",\"label\":\"添加时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(scope.row.createdTime))+\" \")]}}])}),_c('el-table-column',{attrs:{\"width\":\"180\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"disabled\":_vm.isLoading,\"current-page\":_vm.form.current,\"page-sizes\":[5, 10, 20],\"page-size\":_vm.form.size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.totalCount},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.form, \"current\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.form, \"current\", $event)}}})],1),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"resourceform\",attrs:{\"model\":_vm.resourceform,\"label-width\":\"80px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"资源名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.resourceform.name),callback:function ($$v) {_vm.$set(_vm.resourceform, \"name\", $$v)},expression:\"resourceform.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"资源路径\",\"prop\":\"url\"}},[_c('el-input',{model:{value:(_vm.resourceform.url),callback:function ($$v) {_vm.$set(_vm.resourceform, \"url\", $$v)},expression:\"resourceform.url\"}})],1),_c('el-form-item',{attrs:{\"label\":\"资源分类\",\"prop\":\"categoryId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择资源分类\"},model:{value:(_vm.resourceform.categoryId),callback:function ($$v) {_vm.$set(_vm.resourceform, \"categoryId\", $$v)},expression:\"resourceform.categoryId\"}},_vm._l((_vm.resourceCategories),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.resourceform.description),callback:function ($$v) {_vm.$set(_vm.resourceform, \"description\", $$v)},expression:\"resourceform.description\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveCreateOrUpdateResource}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport { getResourcePages, saveOrUpdateResources } from '@/services/resource'\nimport { getResourceCategories } from '@/services/resource-category'\nimport { Form } from 'element-ui'\n\nexport default Vue.extend({\n  name: 'ResourceList',\n  data () {\n    return {\n      resources: [], // 资源列表\n      form: {\n        name: '',\n        url: '',\n        current: 1, // 默认查询第1页数据\n        size: 5, // 每页大小\n        categoryId: null // 资源分类\n      },\n      resourceform: {},\n      totalCount: 0,\n      resourceCategories: [], // 资源分类列表\n      isLoading: true, // 加载状态\n      dialogVisible: false,\n      dialogTitle: '添加资源',\n      rules: {\n        name: [\n          { required: true, message: '请输入名称', trigger: 'change' }\n        ],\n        url: [\n          { required: true, message: '请输入url', trigger: 'change' }\n        ],\n        categoryId: [\n          { required: true, message: '请选择资源分类', trigger: 'change' }\n        ],\n        description: [\n          { required: true, message: '请输入描述', trigger: 'change' }\n        ]\n      }\n    }\n  },\n\n  created () {\n    this.loadResources()\n    this.loadResourceCategories()\n  },\n\n  methods: {\n    async loadResourceCategories () {\n      const { data } = await getResourceCategories()\n      this.resourceCategories = data.data\n    },\n\n    async loadResources () {\n      this.isLoading = true // 展示加载中状态\n      const { data } = await getResourcePages(this.form)\n      this.resources = data.data.records\n      this.totalCount = data.data.total\n      this.isLoading = false // 关闭加载中状态\n    },\n\n    onSubmit () {\n      this.form.current = 1 // 筛选查询从第 1 页开始\n      this.loadResources()\n    },\n\n    handleEdit (item: any) {\n      console.log('handleEdit', item)\n      this.dialogTitle = '编辑'\n      this.resourceform = JSON.parse(JSON.stringify(item))\n      this.dialogVisible = true\n    },\n\n    handleDelete (item: any) {\n      console.log('handleDelete', item)\n    },\n    handleAdd (item: any) {\n      console.log(item)\n      this.dialogTitle = '添加资源'\n      this.dialogVisible = true\n    },\n\n    handleSizeChange (val: number) {\n      this.form.size = val\n      this.form.current = 1 // 每页大小改变重新查询第1页数据\n      this.loadResources()\n    },\n\n    handleCurrentChange (val: number) {\n      // 请求获取对应页码的数据\n      this.form.current = val // 修改要查询的页码\n      this.loadResources()\n    },\n\n    onReset () {\n      (this.$refs.form as Form).resetFields()\n      this.form.current = 1 // 重置回到第1页\n      this.loadResources()\n    },\n    async saveCreateOrUpdateResource () {\n      (this.$refs.resourceform as Form).validate(async (valid) => {\n        if (valid) {\n          const { data } = await saveOrUpdateResources(this.resourceform)\n          if (data.code === '000000') {\n            this.$message({\n              type: 'success',\n              message: '操作成功!'\n            })\n          }\n          this.resourceform = {}\n          this.dialogVisible = false\n          this.loadResources()\n        }\n      }\n      )\n    }\n  }\n})\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=56c67716&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=ts&\"\nexport * from \"./List.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56c67716\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\nimport Vue from 'vue'\nimport ResourceList from './components/List.vue'\n\nexport default Vue.extend({\n  name: 'ResourceIndex',\n  components: {\n    ResourceList\n  }\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=73524578&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73524578\",\n  null\n  \n)\n\nexport default component.exports","/**\n * 资源相关请求模块\n */\n\nimport request from '@/utils/request'\n\nexport const getResourcePages = (data: any) => {\n  return request({\n    method: 'POST',\n    url: '/boss/resource/getResourcePages',\n    data\n  })\n}\n\nexport const getAllResources = () => {\n  return request({\n    method: 'GET',\n    url: '/boss/resource/getAll'\n  })\n}\n\nexport const allocateRoleResources = (data: any) => {\n  return request({\n    method: 'POST',\n    url: '/boss/resource/allocateRoleResources',\n    data\n  })\n}\n\nexport const getRoleResources = (roleId: string | number) => {\n  return request({\n    method: 'GET',\n    url: '/boss/resource/getRoleResources',\n    params: {\n      roleId\n    }\n  })\n}\n\nexport const saveOrUpdateResources = (data: any) => {\n  return request({\n    method: 'POST',\n    url: '/boss/resource/saveOrUpdate',\n    data\n  })\n}\n","/**\n * 资源分类相关请求模块\n */\n\nimport request from '@/utils/request'\n\nexport const getResourceCategories = () => {\n  return request({\n    method: 'GET',\n    url: '/boss/resource/category/getAll'\n  })\n}\n\nexport const saveOrderUpdateCategories = (data: any) => {\n  return request({\n    method: 'POST',\n    url: '/boss/resource/category/saveOrderUpdate',\n    data\n  })\n}\n"],"sourceRoot":""}